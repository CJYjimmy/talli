{"ast":null,"code":"import _classCallCheck from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/src/components/OrganizerView/ViewEvent.js\";\nimport React from 'react';\nimport { Typography, Button } from '@material-ui/core';\nimport '../component_style/ViewEvent.css';\nimport firebase from '../../firebase';\nimport ExportOrgData from './Dialogs/ExportOrgData';\nimport EditEntries from './Dialogs/EditEntries';\nimport EditEvent from './Dialogs/EditEvent';\nimport EditVoting from './Dialogs/EditVoting';\n/**\r\n * OrganizerView > ViewEvent\r\n * Allows organizers to view the details of an event\r\n * that they have already created.\r\n * TODO: read existing events from database and render\r\n */\n\nvar ViewEvent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewEvent, _React$Component);\n\n  function ViewEvent(props) {\n    var _this;\n\n    _classCallCheck(this, ViewEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewEvent).call(this, props));\n\n    _this.handleExport = function () {\n      _this.exportChild.current.handleOpen();\n    };\n\n    _this.handleEntryEdit = function () {\n      _this.entryChild.current.handleOpen();\n    };\n\n    _this.handleEventEdit = function () {\n      _this.eventChild.current.handleOpen();\n    };\n\n    _this.handleOpenCloseVoting = function () {\n      _this.votingChild.current.handleOpen();\n    };\n\n    _this.goBack = function () {\n      _this.props.handler(_this.props.orgViews.MAIN);\n    };\n\n    _this.viewResults = function () {\n      _this.setState({\n        view: \"results\"\n      });\n    };\n\n    _this.manageEvent = function () {\n      _this.setState({\n        view: \"main\"\n      });\n    };\n\n    _this.state = {\n      view: 'main',\n      event: {\n        id: '',\n        name: '',\n        location: '',\n        startDate: '',\n        endDate: '',\n        automate: false,\n        startVote: '',\n        endVote: '',\n        entries: []\n      }\n    };\n    _this.exportChild = React.createRef();\n    _this.eventChild = React.createRef();\n    _this.entryChild = React.createRef();\n    _this.votingChild = React.createRef();\n    return _this;\n  }\n\n  _createClass(ViewEvent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var googleId = this.props.user.googleId;\n      var query = firebase.database().ref('organizer/' + googleId + '/event');\n      query.on('value', function (snapshot) {\n        var events = snapshot.val();\n        var eventBase = events[_this2.props.curEvent]['eventData'];\n        var eventEntries = events[_this2.props.curEvent]['entries'];\n\n        _this2.setState({\n          event: {\n            id: eventBase['id'],\n            name: eventBase['name'],\n            location: eventBase['location'],\n            startDate: eventBase['startDate'],\n            endDate: eventBase['endDate'],\n            automate: eventBase['automate'],\n            startVote: eventBase['startVote'],\n            endVote: eventBase['endVote'],\n            entries: eventEntries\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h3\",\n        align: \"center\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.event.name), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.state.view === \"main\" && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"button1\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.manageEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Manage Event\"), React.createElement(Button, {\n        className: \"button1\",\n        variant: \"contained\",\n        onClick: this.viewResults,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"View Results\")), React.createElement(ExportOrgData, {\n        ref: this.exportChild,\n        event: this.state.event,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(EditEntries, {\n        ref: this.entryChild,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(EditEvent, {\n        ref: this.eventChild,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(EditVoting, {\n        ref: this.votingChild,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"listButtons\",\n        onClick: this.handleExport,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Export Event & Entry QR Codes\"), React.createElement(Button, {\n        className: \"listButtons\",\n        onClick: this.handleEntryEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"View/Add/Edit Entries\"), React.createElement(Button, {\n        className: \"listButtons\",\n        onClick: this.handleEventEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"View/Edit Event Details\"), React.createElement(Button, {\n        className: \"listButtons\",\n        onClick: this.handleOpenCloseVoting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Open/Close Voting\"))), this.state.view == \"results\" && React.createElement(\"div\", {\n        className: \"viewResults\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"button1\",\n        variant: \"contained\",\n        onClick: this.manageEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Manage Event\"), React.createElement(Button, {\n        className: \"button1\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.viewResults,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"View Results\")), React.createElement(Typography, {\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Set up google sheets for results:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"instructions box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"1. Create a Google Sheet in your desired location\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"2. Grab the spreadsheet ID from the URL and paste it here: \", React.createElement(\"input\", {\n        className: \"sheetId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), \" \"), React.createElement(\"div\", {\n        className: \"note\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"- https://docs.google.com/spreadsheets/d/\", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"SPREADSHEET ID\"), \"/edit#gid=0\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"3. Share the spreadsheet with editing rights with \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"talli-455@talli-229017.iam.gserviceaccount.com\"))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        className: \"buttons\",\n        type: \"button\",\n        onClick: this.goBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Back\"));\n    }\n  }]);\n\n  return ViewEvent;\n}(React.Component);\n\nexport { ViewEvent as default };","map":{"version":3,"sources":["/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/src/components/OrganizerView/ViewEvent.js"],"names":["React","Typography","Button","firebase","ExportOrgData","EditEntries","EditEvent","EditVoting","ViewEvent","props","handleExport","exportChild","current","handleOpen","handleEntryEdit","entryChild","handleEventEdit","eventChild","handleOpenCloseVoting","votingChild","goBack","handler","orgViews","MAIN","viewResults","setState","view","manageEvent","state","event","id","name","location","startDate","endDate","automate","startVote","endVote","entries","createRef","googleId","user","query","database","ref","on","snapshot","events","val","eventBase","curEvent","eventEntries","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport '../component_style/ViewEvent.css';\r\nimport firebase from '../../firebase';\r\nimport ExportOrgData from './Dialogs/ExportOrgData';\r\nimport EditEntries from './Dialogs/EditEntries';\r\nimport EditEvent from './Dialogs/EditEvent';\r\nimport EditVoting from './Dialogs/EditVoting';\r\n\r\n/**\r\n * OrganizerView > ViewEvent\r\n * Allows organizers to view the details of an event\r\n * that they have already created.\r\n * TODO: read existing events from database and render\r\n */\r\nexport default class ViewEvent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            view: 'main',\r\n            event: {\r\n                id: '', \r\n                name: '', \r\n                location:'', \r\n                startDate: '', \r\n                endDate: '', \r\n                automate: false, \r\n                startVote: '', \r\n                endVote: '',\r\n                entries: []\r\n            },\r\n        };\r\n        this.exportChild = React.createRef();\r\n        this.eventChild = React.createRef();\r\n        this.entryChild = React.createRef();\r\n        this.votingChild = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        var googleId = this.props.user.googleId;\r\n        var query = firebase.database().ref('organizer/' + googleId + '/event');\r\n        query.on('value', (snapshot) => {\r\n            let events = snapshot.val();\r\n            let eventBase = events[this.props.curEvent]['eventData'];\r\n            let eventEntries = events[this.props.curEvent]['entries'];\r\n            this.setState({\r\n                event: {\r\n                    id: eventBase['id'],\r\n                    name: eventBase['name'],\r\n                    location: eventBase['location'],\r\n                    startDate: eventBase['startDate'],\r\n                    endDate: eventBase['endDate'],\r\n                    automate: eventBase['automate'],\r\n                    startVote: eventBase['startVote'],\r\n                    endVote: eventBase['endVote'],\r\n                    entries: eventEntries\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    handleExport = () => {\r\n        this.exportChild.current.handleOpen();\r\n    }\r\n\r\n    handleEntryEdit = () => {\r\n        this.entryChild.current.handleOpen();\r\n    }\r\n\r\n    handleEventEdit = () => {\r\n        this.eventChild.current.handleOpen();\r\n    }\r\n\r\n    handleOpenCloseVoting = () => {\r\n        this.votingChild.current.handleOpen();\r\n    }\r\n\r\n    goBack = () => {\r\n        this.props.handler(this.props.orgViews.MAIN);\r\n    }\r\n\r\n    viewResults = () => {\r\n        this.setState({\r\n            view: \"results\"\r\n        })\r\n    }\r\n\r\n    manageEvent = () => {\r\n        this.setState({\r\n            view: \"main\"\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                <Typography variant=\"h3\" align='center' gutterBottom>{this.state.event.name}</Typography>\r\n                <div>\r\n                    {\r\n                        this.state.view === \"main\" &&\r\n                        <div>\r\n                            <div className=\"options\">\r\n                                <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={this.manageEvent}>Manage Event</Button>\r\n                                <Button className=\"button1\" variant=\"contained\" onClick={this.viewResults}>View Results</Button>\r\n                            </div>\r\n                            <ExportOrgData ref={this.exportChild} event={this.state.event}/>\r\n                            <EditEntries ref={this.entryChild}/>\r\n                            <EditEvent ref={this.eventChild}/>\r\n                            <EditVoting ref={this.votingChild}/>\r\n                            <div className=\"box\">\r\n                                <Button className=\"listButtons\" onClick={this.handleExport}>Export Event & Entry QR Codes</Button>\r\n                                <Button className=\"listButtons\" onClick={this.handleEntryEdit}>View/Add/Edit Entries</Button>\r\n                                <Button className=\"listButtons\" onClick={this.handleEventEdit}>View/Edit Event Details</Button>\r\n                                <Button className=\"listButtons\" onClick={this.handleOpenCloseVoting}>Open/Close Voting</Button>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        this.state.view == \"results\" &&\r\n                        <div className=\"viewResults\">\r\n                            <div className=\"options\">\r\n                                <Button className=\"button1\" variant=\"contained\" onClick={this.manageEvent}>Manage Event</Button>\r\n                                <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={this.viewResults}>View Results</Button>\r\n                            </div>\r\n                            <Typography variant=\"h5\">Set up google sheets for results:</Typography>\r\n                            <br />\r\n                            <div className=\"instructions box\">\r\n                                <div>1. Create a Google Sheet in your desired location</div>\r\n                                <div>2. Grab the spreadsheet ID from the URL and paste it here: <input className=\"sheetId\"></input> </div>\r\n                                <div className=\"note\">- https://docs.google.com/spreadsheets/d/<b>SPREADSHEET ID</b>/edit#gid=0</div>\r\n                                <div>3. Share the spreadsheet with editing rights with <b>talli-455@talli-229017.iam.gserviceaccount.com</b></div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <br />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    className=\"buttons\"\r\n                    type=\"button\"\r\n                    onClick={this.goBack} >\r\n                    Back\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}