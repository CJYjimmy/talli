{"ast":null,"code":"import _classCallCheck from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/src/App.js\";\nimport React, { Component } from 'react';\nimport NavBar from './components/NavBar';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport theme from './components/Theme';\nimport RoutedApp from './routing/routing';\nimport './App.css';\nimport firebase from './firebase';\n/**\n * 'App' serves as a colleciton point of lower components before they\n * are sent off to rendering in index.js\n * This gives us a place to inject routing and theming as well as place\n * components that stay constant throughout the experience, such as the\n * NavBar\n*/\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    var user = sessionStorage.getItem('id') ? {\n      googleId: sessionStorage.getItem('id'),\n      email: sessionStorage.getItem('email'),\n      name: sessionStorage.getItem('name')\n    } : null;\n    _this.state = {\n      loggedIn: user ? true : false,\n      user: user\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        loggedIn: this.state.loggedIn,\n        onSuccess: this.onSuccess.bind(this),\n        logout: this.logout.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(RoutedApp, {\n        onSuccess: this.onSuccess.bind(this),\n        logout: this.logout.bind(this),\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"onSuccess\",\n    value: function onSuccess(response) {\n      this.setState({\n        loggedIn: true,\n        user: {\n          googleId: response.googleId,\n          email: response.profileObj.email,\n          name: response.profileObj.givenName\n        }\n      });\n      sessionStorage.setItem('id', response.googleId);\n      sessionStorage.setItem('email', response.profileObj.email);\n      sessionStorage.setItem('name', response.profileObj.givenName);\n      var organizer = {\n        email: response.profileObj.email,\n        name: response.profileObj.name\n      };\n      var ref = firebase.database().ref(\"organizer/\" + response.profileObj.googleId + \"/organizerData\");\n      ref.set(organizer);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      this.setState({\n        loggedIn: false,\n        user: null\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/daveworthington/Documents/GaTech/Junior Design/Talli/talli/talli-app/client/src/App.js"],"names":["React","Component","NavBar","MuiThemeProvider","theme","RoutedApp","firebase","App","user","sessionStorage","getItem","googleId","email","name","state","loggedIn","onSuccess","bind","logout","response","setState","profileObj","givenName","setItem","organizer","ref","database","set"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport NavBar from './components/NavBar';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport theme from './components/Theme';\nimport RoutedApp from './routing/routing';\nimport './App.css';\nimport firebase from './firebase';\n\n/**\n * 'App' serves as a colleciton point of lower components before they\n * are sent off to rendering in index.js\n * This gives us a place to inject routing and theming as well as place\n * components that stay constant throughout the experience, such as the\n * NavBar\n*/\nexport default class App extends Component {\n\n    constructor() {\n        super();\n        let user = sessionStorage.getItem('id') ? {\n            googleId: sessionStorage.getItem('id'),\n            email: sessionStorage.getItem('email'),\n            name: sessionStorage.getItem('name')\n        } : null;\n        this.state = {\n            loggedIn: user ? true : false,\n            user: user\n        };\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <div>\n                    <NavBar\n                        loggedIn={this.state.loggedIn}\n                        onSuccess={this.onSuccess.bind(this)}\n                        logout={this.logout.bind(this)} />\n                    <RoutedApp\n                        onSuccess={this.onSuccess.bind(this)}\n                        logout={this.logout.bind(this)}\n                        user={this.state.user} />\n                </div>\n            </MuiThemeProvider>\n        );\n    }\n\n    onSuccess(response) {\n        this.setState({\n            loggedIn: true,\n            user: {\n                googleId: response.googleId,\n                email: response.profileObj.email,\n                name: response.profileObj.givenName\n            }\n        });\n        sessionStorage.setItem('id', response.googleId);\n        sessionStorage.setItem('email', response.profileObj.email);\n        sessionStorage.setItem('name', response.profileObj.givenName);\n      \n        var organizer = {\n        \temail: response.profileObj.email,\n        \tname: response.profileObj.name\n        }\n        const ref = firebase.database().ref(\"organizer/\" + response.profileObj.googleId + \"/organizerData\");\n        ref.set(organizer);\n    }\n\n    logout() {\n        this.setState({\n            loggedIn: false,\n            user: null\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}