{"ast":null,"code":"import _defineProperty from \"/Users/chenjiayuan/junior_design/talli/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/chenjiayuan/junior_design/talli/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenjiayuan/junior_design/talli/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenjiayuan/junior_design/talli/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenjiayuan/junior_design/talli/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenjiayuan/junior_design/talli/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chenjiayuan/junior_design/talli/client/src/components/OrganizerView/Dialogs/EditEvent.js\";\nimport React, { Component } from 'react';\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, InputAdornment, FormControlLabel, Switch } from '@material-ui/core';\nimport CalendarIcon from '@material-ui/icons/DateRange';\nimport { MuiPickersUtilsProvider, DatePicker, DateTimePicker } from 'material-ui-pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport firebase from '../../../firebase';\nimport '../../component_style/ViewEvent.css';\n\nfunction Transition(props) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }));\n}\n\nvar EditEvent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditEvent, _Component);\n\n  function EditEvent(props) {\n    var _this;\n\n    _classCallCheck(this, EditEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditEvent).call(this, props));\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true,\n        name: _this.props.event.name,\n        id: _this.props.event.id,\n        location: _this.props.event.location,\n        startDate: _this.props.event.startDate,\n        endDate: _this.props.event.endDate,\n        automate: _this.props.event.automate,\n        startVote: _this.props.event.startVote,\n        endVote: _this.props.event.endVote\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleSaveClose = function () {\n      _this.setState({\n        open: false\n      });\n\n      var itemsRef = firebase.database().ref(\"organizer/\".concat(_this.props.googleId, \"/event/\").concat(_this.props.event.id, \"/eventData/\"));\n      var item = _this.state;\n      itemsRef.child('name').set(item.name);\n      itemsRef.child('location').set(item.location);\n      itemsRef.child('automate').set(item.automate);\n\n      if (item.startDate !== _this.props.event.startDate) {\n        itemsRef.child('startDate').set(item.startDate.toISOString());\n      }\n\n      if (item.endDate !== _this.props.event.endDate) {\n        itemsRef.child('endDate').set(item.endDate.toISOString());\n      }\n\n      if (item.automate) {\n        if (item.startVote !== _this.props.event.startVote) {\n          itemsRef.child('startVote').set(item.startVote.toISOString());\n        }\n\n        if (item.endVote !== _this.props.event.endVote) {\n          itemsRef.child('endVote').set(item.endVote.toISOString());\n        }\n      } else {\n        itemsRef.child('startVote').set('none');\n        itemsRef.child('endVote').set('none');\n      }\n    };\n\n    _this.handleChange = function (field) {\n      return function (event) {\n        _this.setState(_defineProperty({}, field, event.target.value));\n      };\n    };\n\n    _this.handleDateChange = function (field) {\n      return function (date) {\n        _this.setState(_defineProperty({}, field, date));\n      };\n    };\n\n    _this.toggleAutomation = function () {\n      _this.setState(function (prevState) {\n        return {\n          automate: !prevState.automate\n        };\n      });\n    };\n\n    _this.handleDeleteEvent = function () {\n      _this.props.handler(_this.props.orgViews.MAIN);\n\n      var databaseRef = firebase.database().ref();\n      databaseRef.child(\"event/\".concat(_this.state.id)).remove();\n      databaseRef.child(\"organizer/\".concat(_this.props.googleId, \"/event/\").concat(_this.state.id)).remove();\n    };\n\n    _this.state = {\n      open: false,\n      name: '',\n      id: '',\n      location: '',\n      startDate: '',\n      endDate: '',\n      automate: false,\n      startVote: '',\n      endVote: '',\n      confirmDelete: false\n    };\n    return _this;\n  }\n\n  _createClass(EditEvent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return !this.state.open ? null : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        open: this.state.open,\n        TransitionComponent: Transition,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \" Edit Event \"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        required: true,\n        label: \"Event Name\",\n        margin: \"dense\",\n        className: \"entryFormText\",\n        defaultValue: this.state.name,\n        onChange: this.handleChange('name'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        disabled: true,\n        label: \"ID (cannot be changed)\",\n        margin: \"dense\",\n        className: \"entryFormText\",\n        value: this.props.event.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: true,\n        label: \"Location\",\n        margin: \"dense\",\n        className: \"entryFormText\",\n        defaultValue: this.state.location,\n        onChange: this.handleChange('location'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        required: true,\n        label: \"Start Date\",\n        margin: \"dense\",\n        className: \"entryFormText\",\n        value: this.state.startDate,\n        onChange: this.handleDateChange('startDate'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(CalendarIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(DatePicker, {\n        required: true,\n        label: \"End Date\",\n        margin: \"dense\",\n        className: \"entryFormText\",\n        value: this.state.endDate,\n        onChange: this.handleDateChange('endDate'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(CalendarIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Switch, {\n          checked: this.state.automate,\n          onChange: function onChange() {\n            return _this2.toggleAutomation();\n          },\n          value: this.state.automate,\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }),\n        label: \"Automate Voting Time Period?\",\n        labelPlacement: \"start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), this.state.automate && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(DateTimePicker, {\n        margin: \"dense\",\n        className: \"entryFormText\",\n        label: \"Start Voting\",\n        value: this.state.startVote ? this.state.startVote : new Date(),\n        onChange: this.handleDateChange('startVote'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }, React.createElement(CalendarIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(DateTimePicker, {\n        margin: \"dense\",\n        className: \"entryFormText\",\n        label: \"End Voting\",\n        value: this.state.endVote ? this.state.endVote : new Date(),\n        onChange: this.handleDateChange('endVote'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, React.createElement(CalendarIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), !this.state.confirmDelete ? React.createElement(Button, {\n        variant: \"contained\",\n        style: {\n          background: \"#B00020\",\n          color: \"#FFFFFF\"\n        },\n        onClick: function onClick() {\n          _this2.setState({\n            confirmDelete: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Delete Event\") : React.createElement(React.Fragment, null, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Are you sure you want to delete this event? \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), \" (this cannot be undone)\"), React.createElement(Button, {\n        className: \"button1\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.handleDeleteEvent();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Yes\"), React.createElement(Button, {\n        className: \"button1\",\n        variant: \"contained\",\n        color: \"default\",\n        onClick: function onClick() {\n          _this2.setState({\n            confirmDelete: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"No\"))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"Go Back\"), React.createElement(Button, {\n        onClick: this.handleSaveClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return EditEvent;\n}(Component);\n\nexport { EditEvent as default };","map":{"version":3,"sources":["/Users/chenjiayuan/junior_design/talli/client/src/components/OrganizerView/Dialogs/EditEvent.js"],"names":["React","Component","Slide","Dialog","DialogTitle","DialogContent","DialogActions","Button","TextField","InputAdornment","FormControlLabel","Switch","CalendarIcon","MuiPickersUtilsProvider","DatePicker","DateTimePicker","DateFnsUtils","firebase","Transition","props","EditEvent","handleOpen","setState","open","name","event","id","location","startDate","endDate","automate","startVote","endVote","handleClose","handleSaveClose","itemsRef","database","ref","googleId","item","state","child","set","toISOString","handleChange","field","target","value","handleDateChange","date","toggleAutomation","prevState","handleDeleteEvent","handler","orgViews","MAIN","databaseRef","remove","confirmDelete","startAdornment","Date","background","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, InputAdornment, FormControlLabel, Switch } from '@material-ui/core';\nimport CalendarIcon from '@material-ui/icons/DateRange';\nimport { MuiPickersUtilsProvider, DatePicker, DateTimePicker } from 'material-ui-pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport firebase from '../../../firebase';\nimport '../../component_style/ViewEvent.css';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nexport default class EditEvent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            name: '',\n            id: '',\n            location: '',\n            startDate: '',\n            endDate: '',\n            automate: false,\n            startVote: '',\n            endVote: '',\n            confirmDelete: false,\n        };\n    }\n\n    handleOpen = () => {\n        this.setState({\n            open: true,\n            name: this.props.event.name,\n            id: this.props.event.id,\n            location: this.props.event.location,\n            startDate: this.props.event.startDate,\n            endDate: this.props.event.endDate,\n            automate: this.props.event.automate,\n            startVote: this.props.event.startVote,\n            endVote: this.props.event.endVote,\n        });\n    }\n\n    handleClose = () => {\n        this.setState({ open: false });\n    }\n\n    handleSaveClose = () => {\n        this.setState({ open: false });\n        const itemsRef = firebase.database().ref(\n            `organizer/${this.props.googleId}/event/${this.props.event.id}/eventData/`\n        );\n        const item = this.state;\n        itemsRef.child('name').set(item.name);\n        itemsRef.child('location').set(item.location);\n        itemsRef.child('automate').set(item.automate);\n        if (item.startDate !== this.props.event.startDate) {\n            itemsRef.child('startDate').set(item.startDate.toISOString());\n        }\n        if (item.endDate !== this.props.event.endDate) {\n            itemsRef.child('endDate').set(item.endDate.toISOString());\n        }\n        if (item.automate) {\n            if (item.startVote !== this.props.event.startVote) {\n                itemsRef.child('startVote').set(item.startVote.toISOString());\n            }\n            if (item.endVote !== this.props.event.endVote) {\n                itemsRef.child('endVote').set(item.endVote.toISOString());\n            }\n        } else {\n            itemsRef.child('startVote').set('none');\n            itemsRef.child('endVote').set('none');\n        }\n    }\n\n    handleChange = field => event => {\n        this.setState({\n            [field]: event.target.value,\n        });\n    }\n\n    handleDateChange = field => date => {\n        this.setState({\n            [field]: date,\n        });\n    }\n\n    toggleAutomation = () => {\n        this.setState(prevState => ({\n            automate: !prevState.automate,\n        }));\n    }\n\n    handleDeleteEvent = () => {\n        this.props.handler(this.props.orgViews.MAIN);\n        const databaseRef = firebase.database().ref();\n        databaseRef.child(`event/${this.state.id}`).remove();\n        databaseRef.child(`organizer/${this.props.googleId}/event/${this.state.id}`).remove();\n    }\n\n    render() {\n        return !this.state.open ? null : (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle> Edit Event </DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            required\n                            label=\"Event Name\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            defaultValue={this.state.name}\n                            onChange={this.handleChange('name')}\n                        />\n                        <TextField\n                            disabled\n                            label=\"ID (cannot be changed)\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            value={this.props.event.id}\n                        />\n                        <br />\n                        <TextField\n                            required\n                            label=\"Location\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            defaultValue={this.state.location}\n                            onChange={this.handleChange('location')}\n                        />\n                        <br />\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                            <DatePicker\n                                required\n                                label=\"Start Date\"\n                                margin=\"dense\"\n                                className=\"entryFormText\"\n                                value={this.state.startDate}\n                                onChange={this.handleDateChange('startDate')}\n                                InputProps={{\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                            <CalendarIcon />\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                            <DatePicker\n                                required\n                                label=\"End Date\"\n                                margin=\"dense\"\n                                className=\"entryFormText\"\n                                value={this.state.endDate}\n                                onChange={this.handleDateChange('endDate')}\n                                InputProps={{\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                            <CalendarIcon />\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                        </MuiPickersUtilsProvider>\n                        <br />\n                        <FormControlLabel\n                            control={(\n                                <Switch\n                                    checked={this.state.automate}\n                                    onChange={() => this.toggleAutomation()}\n                                    value={this.state.automate}\n                                    color=\"primary\"\n                                />\n                            )}\n                            label=\"Automate Voting Time Period?\"\n                            labelPlacement=\"start\"\n                        />\n                        {this.state.automate && (\n                            <div>\n                                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                    <DateTimePicker\n                                        margin=\"dense\"\n                                        className=\"entryFormText\"\n                                        label=\"Start Voting\"\n                                        value={this.state.startVote ? this.state.startVote : new Date()}\n                                        onChange={this.handleDateChange('startVote')}\n                                        InputProps={{\n                                            startAdornment: (\n                                                <InputAdornment position=\"start\">\n                                                    <CalendarIcon />\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                    <DateTimePicker\n                                        margin=\"dense\"\n                                        className=\"entryFormText\"\n                                        label=\"End Voting\"\n                                        value={this.state.endVote ? this.state.endVote : new Date()}\n                                        onChange={this.handleDateChange('endVote')}\n                                        InputProps={{\n                                            startAdornment: (\n                                                <InputAdornment position=\"start\">\n                                                    <CalendarIcon />\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </MuiPickersUtilsProvider>\n                            </div>\n                        )}\n                        <br />\n                        {!this.state.confirmDelete ? (\n                            <Button\n                                variant=\"contained\"\n                                style={{ background: \"#B00020\", color: \"#FFFFFF\" }}\n                                onClick={() => { this.setState({ confirmDelete: true, }); }}\n                            >\n                                Delete Event\n                            </Button>\n                        ) : (\n                                <>\n                                    <p>Are you sure you want to delete this event? <br /> (this cannot be undone)</p>\n                                    <Button\n                                        className=\"button1\"\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => this.handleDeleteEvent()}\n                                    >\n                                        Yes\n                                    </Button>\n                                    <Button\n                                        className=\"button1\"\n                                        variant=\"contained\"\n                                        color=\"default\"\n                                        onClick={() => { this.setState({ confirmDelete: false, }); }}\n                                    >\n                                        No\n                                    </Button>\n                                </>\n                            )}\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\n                        <Button onClick={this.handleSaveClose} color=\"primary\">Save</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}