{"ast":null,"code":"import _classCallCheck from \"/Users/chenjiayuan/CS3312/talli/talli-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenjiayuan/CS3312/talli/talli-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenjiayuan/CS3312/talli/talli-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenjiayuan/CS3312/talli/talli-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenjiayuan/CS3312/talli/talli-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chenjiayuan/CS3312/talli/talli-app/client/src/components/VoterView/Countdown.js\";\nimport React, { Component } from 'react';\n\nvar Countdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Countdown, _Component);\n\n  function Countdown(props) {\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Countdown).call(this, props));\n    _this.state = {\n      days: 0,\n      hours: 0,\n      min: 0,\n      sec: 0\n    };\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // update every second\n      var startDate = this.calculateCountdown(this.props.date);\n      startDate ? this.setState(startDate) : this.finish();\n      this.interval = setInterval(function () {\n        var date = _this2.calculateCountdown(_this2.props.date);\n\n        date ? _this2.setState(date) : _this2.finish();\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stop();\n    }\n  }, {\n    key: \"calculateCountdown\",\n    value: function calculateCountdown(endDate) {\n      var diff = (Date.parse(new Date(endDate)) - Date.parse(new Date())) / 1000; // clear countdown when date is reached\n\n      if (diff <= 0) return false;\n      var timeLeft = {\n        years: 0,\n        days: 0,\n        hours: 0,\n        min: 0,\n        sec: 0,\n        millisec: 0\n      }; // calculate time difference between now and expected date\n\n      if (diff >= 365.25 * 86400) {\n        // 365.25 * 24 * 60 * 60\n        timeLeft.years = Math.floor(diff / (365.25 * 86400));\n        diff -= timeLeft.years * 365.25 * 86400;\n      }\n\n      if (diff >= 86400) {\n        // 24 * 60 * 60\n        timeLeft.days = Math.floor(diff / 86400);\n        diff -= timeLeft.days * 86400;\n      }\n\n      if (diff >= 3600) {\n        // 60 * 60\n        timeLeft.hours = Math.floor(diff / 3600);\n        diff -= timeLeft.hours * 3600;\n      }\n\n      if (diff >= 60) {\n        timeLeft.min = Math.floor(diff / 60);\n        diff -= timeLeft.min * 60;\n      }\n\n      timeLeft.sec = diff;\n      return timeLeft;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      clearInterval(this.interval);\n      this.props.onFinished();\n    }\n  }, {\n    key: \"addLeadingZeros\",\n    value: function addLeadingZeros(value) {\n      var valueStr = String(value);\n\n      while (valueStr.length < 2) {\n        valueStr = \"0\".concat(valueStr);\n      }\n\n      return valueStr;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var countDown = this.state;\n      var renderCount;\n\n      if (countDown.days > 7) {\n        renderCount = React.createElement(React.Fragment, null, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.days)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \" Days\"));\n      } else if (countDown.days > 0) {\n        renderCount = React.createElement(React.Fragment, null, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.days)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, countDown.days === 1 ? ' Day, ' : ' Days, '), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.hours)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Hours\"));\n      } else if (countDown.hours > 1) {\n        renderCount = React.createElement(React.Fragment, null, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.hours)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \" Hours, \"), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.min)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, \" Min\"));\n      } else {\n        renderCount = React.createElement(React.Fragment, null, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.min)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \" Min, \"), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, this.addLeadingZeros(countDown.sec)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, \" Sec\"));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Countdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, renderCount);\n    }\n  }]);\n\n  return Countdown;\n}(Component);\n\nexport { Countdown as default };\nCountdown.defaultProps = {\n  date: new Date()\n};","map":{"version":3,"sources":["/Users/chenjiayuan/CS3312/talli/talli-app/client/src/components/VoterView/Countdown.js"],"names":["React","Component","Countdown","props","state","days","hours","min","sec","startDate","calculateCountdown","date","setState","finish","interval","setInterval","stop","endDate","diff","Date","parse","timeLeft","years","millisec","Math","floor","clearInterval","onFinished","value","valueStr","String","length","countDown","renderCount","addLeadingZeros","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class Countdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            days: 0,\r\n            hours: 0,\r\n            min: 0,\r\n            sec: 0,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // update every second\r\n        const startDate = this.calculateCountdown(this.props.date);\r\n        startDate ? this.setState(startDate) : this.finish();\r\n        this.interval = setInterval(() => {\r\n            const date = this.calculateCountdown(this.props.date);\r\n            date ? this.setState(date) : this.finish();\r\n        }, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stop();\r\n    }\r\n\r\n    calculateCountdown(endDate) {\r\n        let diff = (Date.parse(new Date(endDate)) - Date.parse(new Date())) / 1000;\r\n\r\n        // clear countdown when date is reached\r\n        if (diff <= 0) return false;\r\n\r\n        const timeLeft = {\r\n            years: 0,\r\n            days: 0,\r\n            hours: 0,\r\n            min: 0,\r\n            sec: 0,\r\n            millisec: 0,\r\n        };\r\n\r\n        // calculate time difference between now and expected date\r\n        if (diff >= (365.25 * 86400)) { // 365.25 * 24 * 60 * 60\r\n            timeLeft.years = Math.floor(diff / (365.25 * 86400));\r\n            diff -= timeLeft.years * 365.25 * 86400;\r\n        }\r\n        if (diff >= 86400) { // 24 * 60 * 60\r\n            timeLeft.days = Math.floor(diff / 86400);\r\n            diff -= timeLeft.days * 86400;\r\n        }\r\n        if (diff >= 3600) { // 60 * 60\r\n            timeLeft.hours = Math.floor(diff / 3600);\r\n            diff -= timeLeft.hours * 3600;\r\n        }\r\n        if (diff >= 60) {\r\n            timeLeft.min = Math.floor(diff / 60);\r\n            diff -= timeLeft.min * 60;\r\n        }\r\n        timeLeft.sec = diff;\r\n\r\n        return timeLeft;\r\n    }\r\n\r\n    stop() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    finish() {\r\n        clearInterval(this.interval);\r\n        this.props.onFinished();\r\n    }\r\n\r\n    addLeadingZeros(value) {\r\n        let valueStr = String(value);\r\n        while (valueStr.length < 2) {\r\n            valueStr = `0${valueStr}`;\r\n        }\r\n        return valueStr;\r\n    }\r\n\r\n    render() {\r\n        const countDown = this.state;\r\n        let renderCount;\r\n\r\n\r\n        if (countDown.days > 7) {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.days)}</strong>\r\n                    <span> Days</span>\r\n                </>\r\n            );\r\n        } else if (countDown.days > 0) {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.days)}</strong>\r\n                    <span>{countDown.days === 1 ? ' Day, ' : ' Days, '}</span>\r\n                    <strong>{this.addLeadingZeros(countDown.hours)}</strong>\r\n                    <span>Hours</span>\r\n                </>\r\n            );\r\n        } else if (countDown.hours > 1) {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.hours)}</strong>\r\n                    <span> Hours, </span>\r\n                    <strong>{this.addLeadingZeros(countDown.min)}</strong>\r\n                    <span> Min</span>\r\n                </>\r\n            );\r\n        } else {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.min)}</strong>\r\n                    <span> Min, </span>\r\n                    <strong>{this.addLeadingZeros(countDown.sec)}</strong>\r\n                    <span> Sec</span>\r\n\r\n                </>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"Countdown\">\r\n                {renderCount}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCountdown.defaultProps = {\r\n    date: new Date()\r\n};\r\n"]},"metadata":{},"sourceType":"module"}